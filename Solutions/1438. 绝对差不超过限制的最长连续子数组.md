## [1438. 绝对差不超过限制的最长连续子数组](https://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/)

- 标签：队列、数组、有序集合、滑动窗口、单调队列、堆（优先队列）
- 难度：中等

## 题目大意



## 解题思路



## 代码

```Python
import collections


class Solution:
    def longestSubarray(self, nums: List[int], limit: int) -> int:
        size = len(nums)
        queue_max = collections.deque()
        queue_min = collections.deque()

        ans = 0
        left, right = 0, 0
        while right < size:
            while queue_min and queue_min[-1] > nums[right]:
                queue_min.pop()
            while queue_max and queue_max[-1] < nums[right]:
                queue_max.pop()

            queue_min.append(nums[right])
            queue_max.append(nums[right])

            while queue_min and queue_max and queue_max[0] - queue_min[0] > limit:
                if nums[left] == queue_min[0]:
                    queue_min.popleft()
                if nums[left] == queue_max[0]:
                    queue_max.popleft()
                left += 1
            ans = max(ans, right - left + 1)
            right += 1
            
        return ans
```

