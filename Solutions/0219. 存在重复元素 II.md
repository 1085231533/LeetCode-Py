## [0219. 存在重复元素 II](https://leetcode-cn.com/problems/contains-duplicate-ii/)

- 标签：数组、哈希表

## 题目大意

给定一个整数数组 nums 和一个整数 k，判断是否存在 $nums[i] == nums[j]（i \ne j）$，并且 i 和 j 的差绝对值至多为 k。

## 解题思路

维护一个最多有 k 个元素的哈希表。遍历 nums，对于数组中的每个整数 nums[i]，判断哈希表中是否存在这个整数。

- 如果存在，则说明出现了两次，且 $i \ne j$，直接返回 True。

- 如果不存在，则将 nums[i] 加入哈希表。
- 判断哈希表长度是否超过了 k，如果超过了 k，则删除哈希表中最旧的元素 nums[i-k]。
- 如果遍历完仍旧找不到，则返回 False。

## 代码

```Python
class Solution:
    def containsNearbyDuplicate(self, nums: List[int], k: int) -> bool:
        nums_set = set()
        for i in range(len(nums)):
            if nums[i] in nums_set:
                return True
            nums_set.add(nums[i])
            if len(nums_set) > k:
                nums_set.remove(nums[i-k])
        return False
```

